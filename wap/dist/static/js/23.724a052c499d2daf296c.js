webpackJsonp([23],{I0Oe:function(e,t){},UivV:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"add-device-group"},[i("div",{staticClass:"device-name device-style"},[e._m(0),e._v(" "),i("div",{staticClass:"device-name-right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.deviceGroupName,expression:"deviceGroupName"}],attrs:{type:"text",placeholder:"请填写设备组名称"},domProps:{value:e.deviceGroupName},on:{input:function(t){t.target.composing||(e.deviceGroupName=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"device-tmp device-style"},[e._m(1),e._v(" "),i("div",{staticClass:"device-tmp-right"},[i("div",{staticClass:"device-tmp-right-name",on:{click:e.switchTemplate}},[""==e.pickChecked?i("span",{staticStyle:{color:"#dedede"}},[e._v("请选择设备组模板")]):e._e(),e._v(" "),i("i",{staticClass:"iF"},[e._v("")]),e._v(" "),i("span",{staticStyle:{color:"#666666"}},[e._v(e._s(e.pickChecked))])]),e._v(" "),i("div",{staticClass:"device-tmp-right-picture"})])]),e._v(" "),i("bottom-operation",{attrs:{message:e.message},on:{click:e.save}}),e._v(" "),i("SelectPick",{attrs:{checked:e.pickChecked,list:e.pickList,isShow:e.pickShow},on:{confirm:e.setGroup,cancle:e.cancle}})],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"device-name-left"},[t("span",{staticClass:"impColor"},[this._v("*")]),this._v("设备组名称")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"device-tmp-left"},[t("span",{staticClass:"impColor"},[this._v("*")]),this._v("设备组模板")])}]}},h3qi:function(e,t,i){var s=i("VU/8")(i("wpw4"),i("UivV"),function(e){i("I0Oe")},"data-v-55dd9b54",null);e.exports=s.exports},wpw4:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Au9i"),a=(i.n(s),i("2/Wp")),c=i.n(a),o=i("RZmG"),n=i.n(o);t.default={name:"AddDeviceGroup",components:{SelectPick:c.a,BottomOperation:n.a,Toast:s.Toast},data:function(){return{message:"保存",templateNmae:"",deviceGroupName:this.$route.query.name?this.$route.query.name:"",pickChecked:"",pickShow:!1,pickType:"",pickList:[{flex:1,values:[],className:"slot1",textAlign:"center",defaultIndex:0}]}},created:function(){this.getDeviceGroupTemplateList()},methods:{getDeviceGroupTemplateList:function(){var e=this;this.$esellApi.send("/api/template/options.shtml",{}).then(function(t){var i=e;t.payload.forEach(function(e){var t={};t.label=e.name,t.value=e.id,i.pickList[0].values.push(t)},e)}).catch(function(e){Object(s.Toast)({message:e.message,position:"middle",duration:3e3})})},switchTemplate:function(){this.pickShow=!0},save:function(){var e=this;this.deviceGroupName?this.$esellApi.send("/api/group/add.shtml",{name:this.deviceGroupName,"template-id":this.pickCheckedId}).then(function(t){Object(s.Toast)({message:"保存成功",position:"middle",duration:3e3}),e.$router.push({path:"/dev_group"})}).catch(function(e){Object(s.Toast)({message:e.message,position:"middle",duration:3e3})}):Object(s.Toast)({message:"设备组名称不能为空",position:"middle",duration:2e3})},cancle:function(){this.pickShow=!1},setGroup:function(e){this.pickShow=!1,this.pickChecked=e[0].label,this.pickCheckedId=e[0].value}}}}});