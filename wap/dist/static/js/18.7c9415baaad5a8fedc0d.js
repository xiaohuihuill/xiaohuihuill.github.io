webpackJsonp([18],{"162o":function(e,t,n){(function(e){var i=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new a(i.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new a(i.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n("mypn"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(t,n("DuR2"))},K3aJ:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"add-device"},[n("div",{staticClass:"add-device-info"},[n("div",{staticClass:"add-device-number"},[e._m(0),e._v(" "),n("div",{staticClass:"add-device-number-right"},[n("div",{attrs:{id:"wrap"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.realInput,expression:"realInput"}],staticClass:"realInput",staticStyle:{color:"transparent"},attrs:{type:"tel",maxlength:"12",readonly:e.readonly,unselectable:"on",id:"focusId"},domProps:{value:e.realInput},on:{keyup:function(t){e.getNum()},keydown:function(t){e.delNum()},input:function(t){t.target.composing||(e.realInput=t.target.value)}}}),e._v(" "),n("ul",{staticClass:"write-input clearfix"},e._l(e.disInputs,function(t,i){return n("li",{key:i},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"disInput.value"}],staticStyle:{"font-size":".28rem"},attrs:{type:"tel",maxlength:"1"},domProps:{value:t.value},on:{input:function(n){n.target.composing||e.$set(t,"value",n.target.value)}}})])}))])])]),e._v(" "),n("div",{staticClass:"add-device-name"},[e._m(1),e._v(" "),n("div",{staticClass:"add-device-name-right"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.deviceName,expression:"deviceName"}],attrs:{type:"text",placeholder:"请填写设备名称"},domProps:{value:e.deviceName},on:{input:function(t){t.target.composing||(e.deviceName=t.target.value)}}})])]),e._v(" "),n("div",{staticClass:"add-device-group"},[n("div",{staticClass:"add-device-name-left"},[e._v("\n                选择设备组\n            ")]),e._v(" "),n("div",{staticClass:"add-device-name-right"},[n("mt-picker",{attrs:{slots:e.slots,valueKey:"label"},on:{change:e.onValuesChange}})],1)])]),e._v(" "),n("bottom-operation",{attrs:{message:e.message},on:{click:e.accomplish}})],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"add-device-number-left"},[t("span",[this._v("*")]),this._v("设备编号")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"add-device-name-left"},[t("span",[this._v("*")]),this._v("设备名称")])}]}},W2nU:function(e,t){var n,i,a=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function r(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(e){n=s}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(e){i=o}}();var u,c=[],l=!1,d=-1;function m(){l&&u&&(l=!1,u.length?c=u.concat(c):d=-1,c.length&&f())}function f(){if(!l){var e=r(m);l=!0;for(var t=c.length;t;){for(u=c,c=[];++d<t;)u&&u[d].run();d=-1,t=c.length}u=null,l=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||r(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=v,a.addListener=v,a.once=v,a.off=v,a.removeListener=v,a.removeAllListeners=v,a.emit=v,a.prependListener=v,a.prependOnceListener=v,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},mypn:function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var i,a,s,o,r,u=1,c={},l=!1,d=e.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(e);m=m&&m.setTimeout?m:e,"[object process]"==={}.toString.call(e.process)?i=function(e){t.nextTick(function(){p(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((s=new MessageChannel).port1.onmessage=function(e){p(e.data)},i=function(e){s.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(a=d.documentElement,i=function(e){var t=d.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,a.removeChild(t),t=null},a.appendChild(t)}):i=function(e){setTimeout(p,0,e)}:(o="setImmediate$"+Math.random()+"$",r=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&p(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),i=function(t){e.postMessage(o+t,"*")}),m.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return c[u]=a,i(u),u++},m.clearImmediate=f}function f(e){delete c[e]}function p(e){if(l)setTimeout(p,0,e);else{var t=c[e];if(t){l=!0;try{!function(e){var t=e.callback,i=e.args;switch(i.length){case 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(n,i)}}(t)}finally{f(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n("DuR2"),n("W2nU"))},nTr1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("Au9i"),a=(n.n(i),n("RZmG")),s=n.n(a),o=n("162o");n.n(o);t.default={name:"AddDevice",components:{BottomOperation:s.a,Picker:i.Picker},data:function(){return{slots:[{flex:1,values:[{value:"0",label:"请选择"}],className:"slot1",textAlign:"center",defaultIndex:0}],selectGroupId:0,readonly:!1,messagepacket:!1,packets:[],disInputs:[{value:""},{value:""},{value:""},{value:""},{value:""},{value:""},{value:""},{value:""},{value:""},{value:""},{value:""},{value:""}],realInput:"",deviceName:"",message:"完成"}},created:function(){var e=this;this.$route.query.uuid&&(this.disInputs=this.toArray(this.$route.query.uuid),this.readonly=!0),Object(o.setTimeout)(function(){e.initDeviceGroup()},0)},mounted:function(){this.getbackMoney()},methods:{onValuesChange:function(e){this.selectGroupId=e.values[0].value},initDeviceGroup:function(){var e=this;this.$esellApi.send("/api/group/options.shtml",{}).then(function(t){for(var n in t.payload){var i=t.payload[n];e.slots[0].values.push(i)}}).catch(function(e){Object(i.Toast)({message:e.message,position:"middel",duration:3e3})})},toArray:function(e){var t=this;return e.split("").forEach(function(e,n){t.disInputs[n].value=e}),this.disInputs},accomplish:function(){var e=this;this.disInputs?this.deviceName?(this.realInput=this.$route.query.uuid?this.$route.query.uuid:this.realInput,this.$esellApi.send("/api/device/add.shtml",{uuid:this.realInput,name:this.deviceName,"group-id":this.selectGroupId}).then(function(t){e.$router.push({path:"/device"}),Object(i.Toast)({message:"添加设备成功",position:"middel",duration:2e3})}).catch(function(e){Object(i.Toast)({message:e.message,position:"middel",duration:3e3})})):Object(i.Toast)({message:"请先填写设备名称",position:"middel",duration:2e3}):Object(i.Toast)({message:"请先填写设备编号",position:"middel",duration:2e3})},getbackMoney:function(){this.messagepacket=!0,document.getElementById("focusId").focus()},getbackMoneyclock:function(){this.messagepacket=!1},getNum:function(){for(var e=0;e<this.realInput.length;e++)this.disInputs[e].value=this.realInput.charAt(e)},delNum:function(){8==window.event.keyCode&&this.realInput.length>0&&(this.disInputs[this.realInput.length-1].value="")}},watch:{}}},"u/e1":function(e,t,n){var i=n("VU/8")(n("nTr1"),n("K3aJ"),function(e){n("ua24")},"data-v-23671eda",null);e.exports=i.exports},ua24:function(e,t){}});