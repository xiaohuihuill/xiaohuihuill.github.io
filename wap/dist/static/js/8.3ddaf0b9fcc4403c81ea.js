webpackJsonp([8],{5331:function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"collapse-wrap"},[this._t("default")],2)},staticRenderFns:[]}},"9Knu":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card is-fullwidth collapse-item",class:{"is-active":t.isOpen}},[i("header",{staticClass:"card-header",on:{click:t.toggle}},[i("div",{staticClass:"card-header-title"},[t._v(t._s(t.title)+" - "+t._s(t.specification))]),t._v(" "),i("span",{staticClass:"card-header-icon"},[t.isOpen?i("i",{staticClass:"iF"},[t._v("")]):i("i",{staticClass:"iF"},[t._v("")])])]),t._v(" "),i("transition",{attrs:{name:""}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],staticClass:"card-content"},[i("div",{staticClass:"card-content-list"},[i("div",{ref:"scroll_wrapper",staticClass:"scroll"},[i("div",{staticClass:"content"},t._l(t.list,function(e,s){return i("div",{key:s,staticClass:"slider cf",style:t.checked==s?t.deleteSlider:""},[i("div",{staticClass:"infor"},[i("div",{staticClass:"infor_lfet"},[i("img",{attrs:{src:e["cover-url-m"]?e["cover-url-m"]:e["cover-url"]?e["cover-url"]:"",alt:""}})]),t._v(" "),i("div",{staticClass:"infor_center"},[i("h5",[t._v(t._s(e.name))]),t._v(" "),i("div",{staticClass:"center_item"},[i("span",[t._v("开始时间:")]),t._v(" "),i("span",[t._v(t._s(e["start-time"]))])]),t._v(" "),i("div",{staticClass:"center_item"},[i("span",[t._v("结束时间:")]),t._v(" "),i("span",[t._v(t._s(e["end-time"]))])]),t._v(" "),i("div",{staticClass:"center_item"},[i("span",[t._v("播放时间:")]),t._v(" "),i("span",[t._v(t._s(e.duration))])])])])])}))])])])])],1)},staticRenderFns:[]}},E6gZ:function(t,e,i){var s=i("VU/8")(i("pQUV"),i("5331"),function(t){i("Xu+j")},null,null);t.exports=s.exports},NwMv:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"playList",staticClass:"play-list"},[i("Loading",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}]}),t._v(" "),t.list.length>0?i("Collapse",t._l(t.list,function(e,s){return i("CollapseItem",{key:s,attrs:{title:e.name,specification:e.label,list:e.data},on:{click:function(i){t.CollapseItemClick(e.value)},scroll:t.moveIng,scrollToEnd:t.scrollToEnd,clickItem:t.clickItem}})})):i("div",{staticClass:"img_wrapper"},[i("ImgContent",{attrs:{emptyInfor:"暂无广告",addSomething:"发布广告"},on:{add:t.addAdv}})],1)],1)},staticRenderFns:[]}},PjOD:function(t,e,i){var s=i("VU/8")(i("yIWQ"),i("9Knu"),function(t){i("VIzP")},"data-v-cd9e2a1e",null);t.exports=s.exports},UxMm:function(t,e){},VIzP:function(t,e){},"Xu+j":function(t,e){},Zatg:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("qqiS"),a=i.n(s),l=i("E6gZ"),n=i.n(l),o=i("PjOD"),c=i.n(o),r=i("Au9i"),d=i("K4iZ"),h=i.n(d);e.default={components:{Collapse:n.a,CollapseItem:c.a,Toast:r.Toast,ImgContent:h.a,Loading:a.a},data:function(){return{isLoading:!1,getDevicePlayListDataValue:"",data:"",page:1,size:10,list:[],devicePlayListAdvertisingTempate:"",devicePlayListData:{}}},created:function(){"2"!=this.$route.query.type?this.devicePlayListAdvertisingTempate={"device-id":this.$route.query.id,"group-id":"","template-id":""}:this.devicePlayListAdvertisingTempate={"device-id":"","group-id":this.$route.query.id,"template-id":""},this.getDeviceAdvertisingName()},methods:{getDeviceAdvertisingName:function(){var t=this;this.$esellApi.send("/api/slot/options.shtml",this.devicePlayListAdvertisingTempate).then(function(e){t.list=e.payload}).catch(function(t){Object(r.Toast)({message:t.message,position:"middle",duration:3e3})})},getDevicePlayListData:function(t){var e,i=this;this.isLoading=!0,"1"==this.$route.query.type?(e="/api/ad/list/device.shtml",this.devicePlayListData={page:this.page,size:this.size,"group-id":"","slot-id":t,"device-id":this.$route.query.id}):(e="/api/ad/list/group.shtml",this.devicePlayListData={page:this.page,size:this.size,"group-id":this.$route.query.id,"slot-id":t,"device-id":""}),this.$esellApi.send(e,this.devicePlayListData).then(function(e){i.isLoading=!1,i.page&&1==i.page?e.payload.data.length>0?i.list.forEach(function(i){i.value==t&&(i.data=e.payload.data,this.list.splice(this.list.length))},i):Object(r.Toast)({message:"该广告位暂时没有广告播放",position:"middle",duration:3e3}):e.payload.data.length>0&&(i.list=i.list.concat(e.payload.data),i.list.forEach(function(i){i.value==t&&(i.data=e.payload.data,this.list.splice(this.list.length))},i))}).catch(function(t){i.isLoading=!1,Object(r.Toast)({message:t.message,position:"middle",duration:3e3})})},CollapseItemClick:function(t){this.getDevicePlayListDataValue=t,this.getDevicePlayListData(t)},clickItem:function(t){this.$router.push({path:"/dev_detail",query:{id:t.id}})},addAdv:function(){this.$router.push({name:"AddAdv"})},scrollToEnd:function(){this.canAjax=!0},moveIng:function(t,e,i){t.y<0?this.canAjax&&(this.canAjax=!1,this.total>this.page*this.size?(this.page++,this.getDevicePlayListData(this.getDevicePlayListDataValue)):(this.page=this.page,Object(r.Toast)({message:"已经是最后一页的数据了",position:"middle",duration:3e3}))):t.y>50&&this.canAjax&&(this.canAjax=!1,this.getDevicePlayListData(this.getDevicePlayListDataValue))}},watch:{}}},pQUV:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{accordion:Boolean},computed:{$collapseItems:function(){return this.$children}},methods:{setActiveIndex:function(t){this.accordion&&this.$children.forEach(function(e,i){i!==t&&(e.isOpen=!1)})}}}},wret:function(t,e,i){var s=i("VU/8")(i("Zatg"),i("NwMv"),function(t){i("UxMm")},"data-v-6653f106",null);t.exports=s.exports},yIWQ:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("GQaK");e.default={props:{title:String,specification:String,list:{type:Array,default:function(){return[]}},actived:{type:Boolean,default:!1},probeType:{type:Number,default:1},click:{type:Boolean,default:!0},data:{type:Array,default:null},listenScroll:{type:Boolean,default:!0},pullup:{type:Boolean,default:!0},beforeScroll:{type:Boolean,default:!0},refreshDelay:{type:Number,default:20}},created:function(){},data:function(){return{isOpen:this.actived,startX:0,startY:0,disX:0,disY:0,deleteSlider:"",canMove:!0,checked:0}},computed:{index:function(){return this.$parent.$collapseItems.indexOf(this)}},mounted:function(){var t=this;setTimeout(function(){t._initScroll()},5)},methods:{toggle:function(){this.isOpen=!this.isOpen,this.$parent.setActiveIndex(this.index),this.$emit("click")},_initScroll:function(){var t=this;if(this.$refs.scroll_wrapper){if(this.scroll=new s.a(this.$refs.scroll_wrapper,{probeType:this.probeType,click:this.click}),this.listenScroll){var e=this;this.scroll.on("scroll",function(i){e.$emit("scroll",i,t.scroll.y,t.scroll.maxScrollY)})}this.pullup&&this.scroll.on("scrollEnd",function(){t.$emit("scrollToEnd",t.scroll.y,t.scroll.maxScrollY)}),this.beforeScroll&&this.scroll.on("beforeScrollStart",function(){t.$emit("beforeScroll")})}},enable:function(){this.scroll&&this.scroll.enable()},disable:function(){this.scroll&&this.scroll.disable()},refresh:function(){this.scroll&&this.scroll.refresh()},scrollTo:function(){this.scroll&&this.scroll.scrollTo.apply(this.scroll,arguments)},scrollToElement:function(){this.scroll&&this.scroll.scrollToElement.apply(this.scroll,arguments)},touchStart:function(t,e){1==(t=t||event).touches.length&&(this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY,this.checked=e)},touchMove:function(t){t=t||event;var e=this.$refs.remove[this.checked].offsetWidth;1==t.touches.length&&(this.moveX=t.touches[0].clientX,this.moveY=t.touches[0].clientY,this.disX=this.startX-this.moveX,this.disY=this.startY-this.moveY,this.disX<0||0==this.disX?this.deleteSlider="transform:translateX(0px)":this.disX>0&&(this.disX>Math.abs(this.disY)&&Math.abs(this.disY)<60?(this.canMove=!0,this.deleteSlider="transform:translateX(-"+5*this.disX+"px)",5*this.disX>=e&&(this.deleteSlider="transform:translateX(-"+e+"px)")):this.canMove=!1))},touchEnd:function(t){t=t||event;var e=this.$refs.remove[this.checked].offsetWidth;if(1==t.changedTouches.length){var i=t.changedTouches[0].clientX,s=t.changedTouches[0].clientY;this.disX=this.startX-i,this.disY=this.startY-s,5*this.disX<e/2?this.deleteSlider="transform:translateX(0px)":this.canMove&&5*this.disX>e/2?this.deleteSlider="transform:translateX(-"+e+"px)":this.deleteSlider="transform:translateX(0px)"}},remove:function(t){this.$emit("remove",t)},clickItem:function(t){this.$emit("clickItem",t)}},watch:{isActive:function(t){this.isOpen=t},list:function(){var t=this;this.deleteSlider="transform:translateX(0px)",setTimeout(function(){t.refresh()},this.refreshDelay)}}}}});