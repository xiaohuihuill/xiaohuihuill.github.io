webpackJsonp([24],{IBbW:function(t,e,_){var a=_("VU/8")(_("xj4P"),_("f5zV"),function(t){_("uR2Q")},null,null);t.exports=a.exports},f5zV:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,_=t._self._c||e;return _("div",{staticClass:"audit"},[_("Loading",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}]}),t._v(" "),_("Search",{attrs:{placeholder:t.placeholder,intVal:t.intSearchVal},on:{searchVal:t.searchVal,search:t.toSearch,cancle:t.cancle}}),t._v(" "),_("div",{staticClass:"audit_navbar"},[_("mt-navbar",{model:{value:t.selectedAdv,callback:function(e){t.selectedAdv=e},expression:" selectedAdv"}},[_("mt-tab-item",{attrs:{id:"1-2"}},[t._v("全部广告")]),t._v(" "),_("mt-tab-item",{attrs:{id:"1"}},[t._v("未审核")]),t._v(" "),_("mt-tab-item",{attrs:{id:"2"}},[t._v("审核不通过")])],1),t._v(" "),_("mt-tab-container",{model:{value:t.selectedAdv,callback:function(e){t.selectedAdv=e},expression:" selectedAdv"}},[_("mt-tab-container-item",{attrs:{id:"1-2"}},[t.listAll.length>0?_("AdvList",{attrs:{list:t.listAll},on:{remove:t.remove,clickItem:t.clickItem,loadMore:t.loadMore,refresh:t.refresh}}):_("div",{staticClass:"img_wrapper"},[_("ImgContent",{attrs:{emptyInfor:"暂无广告",addSomething:"发布广告"},on:{add:t.addAdv}})],1)],1),t._v(" "),_("mt-tab-container-item",{attrs:{id:"1"}},[t.listEnable.length>0?_("AdvList",{attrs:{list:t.listEnable},on:{remove:t.remove,clickItem:t.clickItem,loadMore:t.loadMore,refresh:t.refresh}}):_("div",{staticClass:"img_wrapper"},[_("ImgContent",{attrs:{emptyInfor:"暂无广告",addSomething:"发布广告"},on:{add:t.addAdv}})],1)],1),t._v(" "),_("mt-tab-container-item",{attrs:{id:"2"}},[t.listDisable.length>0?_("AdvList",{attrs:{list:t.listDisable},on:{remove:t.remove,clickItem:t.clickItem,loadMore:t.loadMore,refresh:t.refresh}}):_("div",{staticClass:"img_wrapper"},[_("ImgContent",{attrs:{emptyInfor:"暂无广告",addSomething:"发布广告"},on:{add:t.addAdv}})],1)],1)],1)],1),t._v(" "),_("Infor",{attrs:{position:t.position,duration:t.duration,type:t.type,content:t.content,modal:t.modal,showPopup:t.showPopup}})],1)},staticRenderFns:[]}},uR2Q:function(t,e){},xj4P:function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0__components_search_search__=__webpack_require__("YOyO"),__WEBPACK_IMPORTED_MODULE_0__components_search_search___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_search_search__),__WEBPACK_IMPORTED_MODULE_1__components_loading_loading__=__webpack_require__("qqiS"),__WEBPACK_IMPORTED_MODULE_1__components_loading_loading___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_loading_loading__),__WEBPACK_IMPORTED_MODULE_2__components_advList_AdvList__=__webpack_require__("sP7u"),__WEBPACK_IMPORTED_MODULE_2__components_advList_AdvList___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__components_advList_AdvList__),__WEBPACK_IMPORTED_MODULE_3__components_message_Message__=__webpack_require__("pZhx"),__WEBPACK_IMPORTED_MODULE_3__components_message_Message___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__components_message_Message__),__WEBPACK_IMPORTED_MODULE_4__components_imgContent_imgContent__=__webpack_require__("K4iZ"),__WEBPACK_IMPORTED_MODULE_4__components_imgContent_imgContent___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__components_imgContent_imgContent__),__WEBPACK_IMPORTED_MODULE_5__common_base_js__=__webpack_require__("5a/Z"),__WEBPACK_IMPORTED_MODULE_6_mint_ui__=__webpack_require__("Au9i"),__WEBPACK_IMPORTED_MODULE_6_mint_ui___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_mint_ui__),statusAll="1-2",statusEnable="1",statusDisable="2";__webpack_exports__.default={mixins:[__WEBPACK_IMPORTED_MODULE_5__common_base_js__.c],components:{Search:__WEBPACK_IMPORTED_MODULE_0__components_search_search___default.a,AdvList:__WEBPACK_IMPORTED_MODULE_2__components_advList_AdvList___default.a,Infor:__WEBPACK_IMPORTED_MODULE_3__components_message_Message___default.a,Loading:__WEBPACK_IMPORTED_MODULE_1__components_loading_loading___default.a,Toast:__WEBPACK_IMPORTED_MODULE_6_mint_ui__.Toast,ImgContent:__WEBPACK_IMPORTED_MODULE_4__components_imgContent_imgContent___default.a},data:function(){return{listAll:[],listEnable:[],listDisable:[],page:1,size:10,total:9,selectedAdv:"",placeholder:"请输入搜索的广告名称",searchValue:"",isPull:!1,intSearchVal:"",isLoading:!0}},methods:{toSearch:function(t){this.searchValue&&this.getAdvInfor()},searchVal:function(t){this.searchValue=t,this.intSearchVal=t},cancle:function(){this.searchValue="",this.intSearchVal="",this.isPull=!0,this.getAdvInfor()},addAdv:function(){this.$router.push({name:"AddAdv"})},clickItem:function clickItem(data){var type="",textContent="";"CONTENT"==data["material-type"]?(type=2,textContent=eval("("+data["material-content"]+")").content,this.$router.push({name:"ToAudit",query:{type:type,content:textContent,num:data.id}})):(type=1,this.$router.push({name:"ToAudit",query:{type:type,src:data["cover-url"],num:data.id}}))},remove:function(t){var e=this;this.$esellApi.send("/api/ad/delete/batch.shtml",{ids:[t.id]}).then(function(t){e.getAdvInfor(!0)}).catch(function(t){e.content=t.message,e.showPopup=!e.showPopup})},loadMore:function(){Math.ceil(this.total/this.size)>=this.page?(this.page+=1,this.isLoading=!0,this.getAdvInfor()):Object(__WEBPACK_IMPORTED_MODULE_6_mint_ui__.Toast)({message:"没有更多了",duration:1e3})},refresh:function(){this.page=1,this.isLoading=!0,this.getAdvInfor(!0)},getAdvInfor:function(t){var e=this;this.$esellApi.send("/api/ad/list/audit.shtml",{page:this.page,size:this.size,"ad-status":this.selectedAdv,name:this.searchValue}).then(function(_){e.isLoading=!1,e.total=_.payload.total,e.selectedAdv==statusAll?e.listAll=t?_.payload.data:e.listAll.concat(_.payload.data):e.selectedAdv==statusEnable?e.listEnable=t?_.payload.data:e.listEnable.concat(_.payload.data):e.selectedAdv==statusDisable&&(e.listDisable=t?_.payload.data:e.listDisable.concat(_.payload.data))}).catch(function(t){e.isLoading=!1,e.content=t.message,e.showPopup=!e.showPopup})}},created:function(){this.$route.query.status?1==this.$route.query.status?this.selectedAdv="1":2==this.$route.query.status&&(this.selectedAdv="2"):this.selectedAdv="1-2"},watch:{selectedAdv:function(){this.intSearchVal="",this.searchValue="",this.selectedAdv==statusAll&&0==this.listAll.length||this.isPull?(this.getAdvInfor(),this.isPull=!1):this.selectedAdv==statusEnable&&0==this.listEnable.length||this.isPull?(this.getAdvInfor(),this.isPull=!1):(this.selectedAdv==statusDisable&&0==this.listDisable.length||this.isPull)&&(this.getAdvInfor(),this.isPull=!1)}}}}});