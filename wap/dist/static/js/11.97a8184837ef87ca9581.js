webpackJsonp([11],{"9sVD":function(t,e,s){var i=s("VU/8")(s("GUox"),s("Og4J"),function(t){s("Gi6p")},"data-v-3a202c1e",null);t.exports=i.exports},F4Rr:function(t,e,s){var i=s("VU/8")(s("uOF1"),s("Vg9Q"),function(t){s("ekWT")},"data-v-5eaaaa87",null);t.exports=i.exports},GUox:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("GQaK");e.default={name:"templateList",props:{list:"",probeType:{type:Number,default:1},click:{type:Boolean,default:!0},data:{type:Array,default:null},listenScroll:{type:Boolean,default:!0},pullup:{type:Boolean,default:!0},beforeScroll:{type:Boolean,default:!0},refreshDelay:{type:Number,default:20}},data:function(){return{startX:0,startY:0,disX:0,disY:0,deleteSlider:"",canMove:!0,checked:0}},mounted:function(){var t=this;setTimeout(function(){t._initScroll()},5)},methods:{_initScroll:function(){var t=this;if(this.$refs.scroll_wrapper){if(this.scroll=new i.a(this.$refs.scroll_wrapper,{probeType:this.probeType,click:this.click}),this.listenScroll){var e=this;this.scroll.on("scroll",function(s){e.$emit("scroll",s,t.scroll.y,t.scroll.maxScrollY)})}this.pullup&&this.scroll.on("scrollEnd",function(){t.$emit("scrollToEnd",t.scroll.y,t.scroll.maxScrollY)}),this.beforeScroll&&this.scroll.on("beforeScrollStart",function(){t.$emit("beforeScroll")})}},enable:function(){this.scroll&&this.scroll.enable()},disable:function(){this.scroll&&this.scroll.disable()},refresh:function(){this.scroll&&this.scroll.refresh()},scrollTo:function(){this.scroll&&this.scroll.scrollTo.apply(this.scroll,arguments)},scrollToElement:function(){this.scroll&&this.scroll.scrollToElement.apply(this.scroll,arguments)},touchStart:function(t,e){1==(t=t||event).touches.length&&(this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY,this.checked=e)},touchMove:function(t){t=t||event;var e=this.$refs.remove[this.checked].offsetWidth;1==t.touches.length&&(this.moveX=t.touches[0].clientX,this.moveY=t.touches[0].clientY,this.disX=this.startX-this.moveX,this.disY=this.startY-this.moveY,this.disX<0||0==this.disX?this.deleteSlider="transform:translateX(0px)":this.disX>0&&(this.disX>Math.abs(this.disY)&&Math.abs(this.disY)<60?(this.canMove=!0,this.deleteSlider="transform:translateX(-"+5*this.disX+"px)",5*this.disX>=e&&(this.deleteSlider="transform:translateX(-"+e+"px)")):this.canMove=!1))},touchEnd:function(t){t=t||event;var e=this.$refs.remove[this.checked].offsetWidth;if(1==t.changedTouches.length){var s=t.changedTouches[0].clientX,i=t.changedTouches[0].clientY;this.disX=this.startX-s,this.disY=this.startY-i,5*this.disX<e/2?this.deleteSlider="transform:translateX(0px)":this.canMove&&5*this.disX>e/2?this.deleteSlider="transform:translateX(-"+e+"px)":this.deleteSlider="transform:translateX(0px)"}},remove:function(t){this.$emit("remove",t)},clickItem:function(t){this.$emit("clickItem",t)}},watch:{list:function(){var t=this;setTimeout(function(){t.refresh()},this.refreshDelay)}}}},Gi6p:function(t,e){},Og4J:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"template-list"},[s("div",{ref:"scroll_wrapper",staticClass:"scroll",staticStyle:{height:"100%",width:"100%"}},[s("div",{staticClass:"content"},t._l(t.list,function(e,i){return s("div",{key:i,staticClass:"slider cf",style:t.checked==i?t.deleteSlider:""},[s("div",{staticClass:"infor",on:{click:function(s){t.clickItem(e)}}},[t._m(0,!0),t._v(" "),s("div",{staticClass:"infor-right",staticStyle:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},[s("div",{staticStyle:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},[t._v("模板名称：\n                            "),s("span",[t._v(t._s(e.name))])]),t._v(" "),s("p",[t._v("分辨率\n                            "),s("span",[t._v(t._s(e.width)+"*"+t._s(e.height))])]),t._v(" "),(t.type="1")?s("p"):s("p",[s("i",{staticClass:"iF",on:{click:function(s){t.remove(e.id)}}},[t._v("")])])])])])}))])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"infor-left"},[e("div",{staticClass:"picture"},[e("img",{attrs:{src:"",alt:""}})])])}]}},Vg9Q:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"template-manage",staticStyle:{height:"100%",width:"100%"}},[s("Loading",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}]}),t._v(" "),t.list.length>0?s("TemplateList",{attrs:{list:t.list},on:{scroll:t.moveIng,scrollToEnd:t.scrollToEnd,remove:t.remove,clickItem:t.clickItem}}):t._e()],1)},staticRenderFns:[]}},ekWT:function(t,e){},uOF1:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("Au9i"),a=(s.n(i),s("qqiS")),l=s.n(a),o=s("9sVD"),n=s.n(o);e.default={name:"templateManage",components:{TemplateList:n.a,Loading:l.a,Toast:i.Toast},data:function(){return{isLoading:!1,list:[],page:1,size:6}},created:function(){this.getTemplateListData()},methods:{getTemplateListData:function(t){var e=this;this.isLoading=!0,this.$esellApi.send("/api/template/list.shtml",{page:this.page,size:this.size}).then(function(s){e.isLoading=!1,e.page&&1==e.page||t?e.list=s.payload.data:e.list=e.list.concat(s.payload.data),e.total=s.payload.total}).catch(function(t){e.isLoading=!1})},addDevice:function(){this.$router.push({path:"/add_dev"})},deviceGroupManage:function(){this.$router.push({path:"/dev_group"})},clickItem:function(t){},remove:function(t){var e=this;MessageBox.confirm("确定执行此操作?").then(function(s){e.$esellApi.send("/api/template/delete.shtml",{id:t.id}).then(function(t){Object(i.Toast)({message:"删除操作成功",iconClass:"icon icon-success"})}).catch(function(t){Object(i.Toast)({message:"取消操作",iconClass:"icon icon-success"})})}).catch(function(){e.popupValue=!0,e.slots="aaaaa"})},scrollToEnd:function(){this.canAjax=!0},moveIng:function(t,e,s){Math.abs(e)-Math.abs(s)>20?this.canAjax&&(this.canAjax=!1,this.total>this.page*this.size?(this.page++,this.getTemplateListData()):(this.page=this.page,Object(i.Toast)({message:"已经是最后一页的数据了",position:"middle",duration:3e3}))):t.y>50&&this.canAjax&&(this.canAjax=!1,this.page=1,this.getTemplateListData(!0))}}}}});